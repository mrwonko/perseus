#pragma once

#include "ast.hpp"

namespace perseus
{
  namespace detail
  {
    /**
    @brief Converts AST to one with proper binary operation nodes.

    The @ref grammar "parser" can't contain left recursion, which leads to a fairly ugly AST. That gets post-processed here.
    @param ast the AST generated by the parser
    @returns An equivalent cleaner AST with proper binary operations, instead of n-ary operation-lists.
    */
    perseus::detail::ast::clean::file clean_parser_ast( perseus::detail::ast::parser::file&& ast );
  }
}
